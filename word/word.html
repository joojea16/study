<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>끝말잇기</title>
    <style>
      #img {
        margin-top: 200px;
        width: 800px;
        height: 800px;
      }
      #img img {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div><span id="order">1</span>번째 참가자</div>
    <div>제시어:<span id="word"></span></div>
    <input type="text" placeholder="입력" />
    <button>입력</button>
    <div id="img"><img src="캡처.PNG" alt="" /></div>
    <script>
      const number = Number(prompt("몇명이 참가하나요?"), 10);

      if (number) {
        const $button = document.querySelector("button");
        const $input = document.querySelector("input");
        const $word = document.querySelector("#word");
        const $order = document.querySelector("#order");

        let word; //제시어
        let newWord; //새로 입력한 단어
        const onInput = (e) => {
          newWord = e.target.value;
        };

        const onClickButton = () => {
          if (newWord.length == 3) {
            if (!word || word[word.length - 1] === newWord[0]) {
              word = newWord; //입력한 단어가 제시어가된다
              $word.textContent = word; //제시어를 화면에 쓴다

              const order = Number($order.textContent); // 현재 순서

              if (order + 1 > number) {
                $order.textContent = 1;
              } else {
                $order.textContent = order + 1;
              }
            } else {
              //올바르지않는가
              alert("올바르지않는 단어입니다.");
            }
            $input.value = ""; // 인풋칸을 빈칸으로 만든다
            $input.focus();
          } else {
            alert("글자수가 맞지 않습니다.");
          }
        };

        $button.addEventListener("click", onClickButton);
        $input.addEventListener("input", onInput);
      } else {
        alert("인원수를 선택하세요");
      }
      // const onClickButton = () => {
      //   if (!word) {
      //     /*제시어가 비어있는가*/
      //     //비어있다
      //     word = newWord; //입력한 단어가 제시어가된다
      //     $word.textContent = word; //제시어를 화면에 쓴다

      //     const order = Number($order.textContent); // 현재 순서

      //     if (order + 1 > number) {
      //       $order.textContent = 1;
      //     } else {
      //       $order.textContent = order + 1;
      //     }
      //     $input.value = ""; // 인풋칸을 빈칸으로 만든다
      //     $input.focus();
      //   } else {
      //     //비어있지 않다
      //     if (word[word.length - 1] === newWord[0]) {
      //       //올바른가
      //       word = newWord; //입력한 단어가 제시어가된다
      //       $word.textContent = word; //제시어를 화면에 쓴다

      //       const order = Number($order.textContent); // 현재 순서

      //       if (order + 1 > number) {
      //         $order.textContent = 1;
      //       } else {
      //         $order.textContent = order + 1;
      //       }
      //       $input.value = ""; // 인풋칸을 빈칸으로 만든다
      //       $input.focus();
      //     } else {
      //       //올바르지않는가
      //       alert("올바르지않는 단어입니다.");
      //       $input.value = ""; // 인풋칸을 빈칸으로 만든다
      //       $input.focus();3
      //     }
      //   }
      // };

      // 식 축소 하기
    </script>
  </body>
</html>
